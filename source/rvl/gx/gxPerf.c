#include "gxPerf.h"

#include "gx.h"

// Symbol: GXSetGPMetric
// PAL: 0x801735cc..0x80173df8
MARK_BINARY_BLOB(GXSetGPMetric, 0x801735cc, 0x80173df8);
asm UNKNOWN_FUNCTION(GXSetGPMetric) {
  // clang-format off
  nofralloc;
  lwz r5, gx;
  lwz r0, 0x5ec(r5);
  cmpwi r0, 0x22;
  beq lbl_80173604;
  bge lbl_80173650;
  cmpwi r0, 0xb;
  bge lbl_801735f4;
  cmpwi r0, 0;
  bge lbl_80173604;
  b lbl_80173650;
lbl_801735f4:
  cmpwi r0, 0x1b;
  bge lbl_8017363c;
  b lbl_80173624;
  b lbl_80173650;
lbl_80173604:
  lis r7, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r7);
  li r6, 0x1006;
  li r0, 0;
  stw r6, -0x8000(r7);
  stw r0, -0x8000(r7);
  b lbl_80173650;
lbl_80173624:
  lis r6, 0xcc01;
  li r0, 0x61;
  stb r0, -0x8000(r6);
  lis r0, 0x2300;
  stw r0, -0x8000(r6);
  b lbl_80173650;
lbl_8017363c:
  lis r6, 0xcc01;
  li r0, 0x61;
  stb r0, -0x8000(r6);
  lis r0, 0x2400;
  stw r0, -0x8000(r6);
lbl_80173650:
  lwz r0, 0x5f0(r5);
  cmpwi r0, 0x15;
  beq lbl_80173684;
  bge lbl_801736d4;
  cmpwi r0, 9;
  bge lbl_80173674;
  cmpwi r0, 0;
  bge lbl_80173684;
  b lbl_801736d4;
lbl_80173674:
  cmpwi r0, 0x11;
  bge lbl_801736c8;
  b lbl_8017369c;
  b lbl_801736d4;
lbl_80173684:
  lis r6, 0xcc01;
  li r0, 0x61;
  stb r0, -0x8000(r6);
  lis r0, 0x6700;
  stw r0, -0x8000(r6);
  b lbl_801736d4;
lbl_8017369c:
  lwz r8, 0x5f4(r5);
  lis r6, 0xcc01;
  li r7, 8;
  li r0, 0x20;
  rlwinm r8, r8, 0, 0x1c, 0x17;
  stw r8, 0x5f4(r5);
  stb r7, -0x8000(r6);
  stb r0, -0x8000(r6);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r6);
  b lbl_801736d4;
lbl_801736c8:
  lwz r6, -0x6474(r13);
  li r0, 0;
  sth r0, 6(r6);
lbl_801736d4:
  cmplwi r3, 0x23;
  stw r3, 0x5ec(r5);
  bgt lbl_80173af8;
  lis r6, 0x8029;
  slwi r0, r3, 2;
  addi r6, r6, -22860;
  lwzx r6, r6, r0;
  mtctr r6;
  bctr;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x273;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x14a;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x16b;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x84;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0xc6;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x210;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x252;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x231;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x1ad;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x1ce;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x21;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x10;
  stb r0, -0x8000(r6);
  li r3, 0x1006;
  li r0, 0x153;
  stw r3, -0x8000(r6);
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -20865;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -29057;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -24961;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2300;
  stb r0, -0x8000(r6);
  addi r0, r3, 0x1e7f;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21441;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21377;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21313;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21249;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21185;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21121;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21057;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -20993;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -20929;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -23937;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -22913;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2301;
  stb r0, -0x8000(r6);
  addi r0, r3, -21889;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16186;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16021;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16153;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16120;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16087;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -16054;
  stw r0, -0x8000(r6);
  b lbl_80173af8;
  lis r6, 0xcc01;
  li r0, 0x61;
  lis r3, 0x2403;
  stb r0, -0x8000(r6);
  addi r0, r3, -15955;
  stw r0, -0x8000(r6);
lbl_80173af8:
  cmplwi r4, 0x16;
  stw r4, 0x5f0(r5);
  bgt lbl_80173dec;
  lis r3, 0x8029;
  slwi r0, r4, 2;
  addi r3, r3, -22952;
  lwzx r3, r3, r0;
  mtctr r3;
  bctr;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x42;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x84;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x63;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x129;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x252;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x21;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x14b;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x18d;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x1cf;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lis r4, 0xcc01;
  li r0, 0x61;
  lis r3, 0x6700;
  stb r0, -0x8000(r4);
  addi r0, r3, 0x211;
  stw r0, -0x8000(r4);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 2;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 3;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 4;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 5;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 6;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 7;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r4, 0x5f4(r5);
  li r0, 9;
  rlwimi r4, r0, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r4, 0x5f4(r5);
  li r4, 8;
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  li r4, 8;
  lwz r0, 0x5f4(r5);
  rlwimi r0, r4, 4, 0x18, 0x1b;
  lis r3, 0xcc01;
  stw r0, 0x5f4(r5);
  li r0, 0x20;
  stb r4, -0x8000(r3);
  stb r0, -0x8000(r3);
  lwz r0, 0x5f4(r5);
  stw r0, -0x8000(r3);
  b lbl_80173dec;
  lwz r3, -0x6474(r13);
  li r0, 2;
  sth r0, 6(r3);
  b lbl_80173dec;
  lwz r3, -0x6474(r13);
  li r0, 3;
  sth r0, 6(r3);
  b lbl_80173dec;
  lwz r3, -0x6474(r13);
  li r0, 4;
  sth r0, 6(r3);
  b lbl_80173dec;
  lwz r3, -0x6474(r13);
  li r0, 5;
  sth r0, 6(r3);
lbl_80173dec:
  li r0, 0;
  sth r0, 2(r5);
  blr;
  // clang-format on
}

// Symbol: GXClearGPMetric
// PAL: 0x80173df8..0x80173e08
MARK_BINARY_BLOB(GXClearGPMetric, 0x80173df8, 0x80173e08);
asm UNKNOWN_FUNCTION(GXClearGPMetric) {
  // clang-format off
  nofralloc;
  lwz r3, -0x6474(r13);
  li r0, 4;
  sth r0, 4(r3);
  blr;
  // clang-format on
}
